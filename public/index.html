<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script>
      ;(function () {
        if (localStorage.getItem("theme") === "dark") {
          document.documentElement.classList.add("dark")
        }
      })()
    </script>
    <script src="/lib/htmx.min.js"></script>
    <script
      type="module"
      src="https://cdn.jsdelivr.net/gh/starfederation/datastar@v1.0.0-beta.9/bundles/datastar.js"
    ></script>
    <script src="/script.js" defer></script>
    <link rel="stylesheet" href="/style/output.css" />
    <title>REST Countries API</title>
  </head>
  <body
    class="bg-zinc-100 dark:bg-gray-800 text-neutral-900 dark:text-white flex flex-col"
  >
    <header
      class="bg-white dark:bg-gray-700 flex justify-between px-4 py-8 shadow-(--header-shadow)"
    >
      <h1 class="text-xl font-semibold">Where in the world?</h1>
      <button
        class="flex items-center gap-2 cursor-pointer"
        hx-on:click="toggleTheme()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            fill="currentColor"
            d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2h.1A6.98 6.98 0 0 0 10 7m-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938A8 8 0 0 0 4 12"
          />
        </svg>
        <span class="text-xs font-semibold text-nowrap">Dark Mode</span>
      </button>
    </header>

    <main class="px-4 py-6 flex flex-col">
      <div
        class="bg-white dark:bg-gray-700 px-8 py-4 rounded-[5px] flex gap-6 shadow-(--search-shadow)"
        hx-on:click="focusOnSearchInput()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            fill="currentColor"
            d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5"
          />
        </svg>
        <input
          class="dark:placeholder:text-white focus:placeholder:opacity-40 w-full outline-0"
          type="text"
          placeholder="Search for a country..."
          id="search-input"
        />
      </div>
      <button hx-get="/data/countries.json" hx-target="#display">
        Get all countries
      </button>
      <div id="display">Display</div>
    </main>
  </body>
</html>
